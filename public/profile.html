<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile | AlumNet</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="Profile.css">
</head>
<body>
    <script>
        // Fetch user data from the backend and update the profile
        async function fetchUserData() {
            try {
                // Replace with your actual API endpoint
                const response = await fetch('/user-data');
                const data = await response.json();
                console.log(data);
                // Update profile details dynamically
                document.querySelector('.profile-name').textContent = data.fullName || 'Unknown';
                document.querySelector('.profile-title').textContent = `${data.role || 'Student'} | ${data.collegeName || 'Unknown College'}`;
                document.querySelector('.info-value[data-field="name"]').textContent = data.fullName || 'N/A';
                document.querySelector('.info-value[data-field="email"]').textContent = data.email || 'N/A';
                document.querySelector('.info-value[data-field="contact"]').textContent = data.phoneNumber || 'N/A';
                document.querySelector('.info-value[data-field="college"]').textContent = data.collegeName || 'N/A';
            } catch (error) {
                console.error('Error fetching user data:', error);
            }
        }

        // Call fetchUserData on page load
        document.addEventListener('DOMContentLoaded', fetchUserData);
    </script>
    <div class="container">
        <!-- Profile Sidebar -->
        <aside class="profile-sidebar">
            <div class="profile-header">
                <div class="profile-image">
                    <img src="https://i.pinimg.com/control2/736x/3f/e8/23/3fe82308206d42833ae4d77ed66f0fb3.jpg" alt="Profile Image">
                </div>
                <div class="online-status"></div>
                <h1 class="profile-name">Loading...</h1>
                <p class="profile-title">Loading...</p>
            </div>
            <nav class="nav-menu">
                <a href="#basic" class="nav-item active">
                    <i class="fas fa-user"></i>
                    <span>Basic Details</span>
                </a>
                <a href="#education" class="nav-item">
                    <i class="fas fa-graduation-cap"></i>
                    <span>Education</span>
                </a>
                <a href="#experience" class="nav-item">
                    <i class="fas fa-briefcase"></i>
                    <span>Experience</span>
                </a>
                <a href="#skills" class="nav-item">
                    <i class="fas fa-code"></i>
                    <span>Skills</span>
                </a>
                <a href="#projects" class="nav-item">
                    <i class="fas fa-project-diagram"></i>
                    <span>Projects</span>
                </a>
                <a href="#certifications" class="nav-item">
                    <i class="fas fa-certificate"></i>
                    <span>Certifications</span>
                </a>
                <a href="#settings" class="nav-item">
                    <i class="fas fa-cog"></i>
                    <span>Profile Settings</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main>
            <!-- Basic Details -->
            <section id="basic" class="content-section">
                <div class="section-header">
                    <h2 class="section-title">Basic Details</h2>
                    <button class="edit-button">
                        <i class="fas fa-pen"></i>
                    </button>
                </div>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="info-label">Name</span>
                        <span class="info-value" data-field="name">Loading...</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Email</span>
                        <span class="info-value" data-field="email">Loading...</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Contact Number</span>
                        <span class="info-value" data-field="contact">Loading...</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">University</span>
                        <span class="info-value" data-field="college">Loading...</span>
                    </div>
                </div>
            </section>

            <!-- Education -->
            <section id="education" class="content-section">
                <div class="section-header">
                    <h2 class="section-title">Education</h2>
                    <button class="edit-button">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-icon">
                            <i class="fas fa-graduation-cap"></i>
                        </div>
                        <div class="timeline-content">
                            <h3 class="timeline-title">B.Sc. Software Engineering</h3>
                            <p class="timeline-subtitle">MNIT, Jaipur</p>
                            <span class="timeline-period">2020 - Present</span>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-icon">
                            <i class="fas fa-school"></i>
                        </div>
                        <div class="timeline-content">
                            <h3 class="timeline-title">Higher Secondary Education</h3>
                            <p class="timeline-subtitle">City Public School</p>
                            <span class="timeline-period">2018 - 2020</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Experience -->
            <section id="experience" class="content-section">
                <div class="section-header">
                    <h2 class="section-title">Experience</h2>
                    <button class="edit-button">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-icon">
                            <i class="fas fa-briefcase"></i>
                        </div>
                        <div class="timeline-content">
                            <h3 class="timeline-title">Frontend Developer</h3>
                            <p class="timeline-subtitle">Innovatech</p>
                            <span class="timeline-period">June 2023 - Present</span>
                            <p class="bio" style="margin-top: 0.5rem;">
                                Working on developing responsive web applications using React and TypeScript.
                                Collaborating with the design team to implement user interfaces.
                            </p>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-icon">
                            <i class="fas fa-laptop-code"></i>
                        </div>
                        <div class="timeline-content">
                            <h3 class="timeline-title">Web Development Intern</h3>
                            <p class="timeline-subtitle">TechStart Solutions</p>
                            <span class="timeline-period">May 2022 - Aug 2022</span>
                            <p class="bio" style="margin-top: 0.5rem;">
                                Assisted in developing and maintaining client websites.
                                Learned modern web development practices and tools.
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Skills -->
            <section id="skills" class="content-section">
                <div class="section-header">
                    <h2 class="section-title">Skills</h2>
                    <button class="edit-button">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
                <div class="skills-grid">
                    <div class="skill-item">
                        <div class="skill-icon">
                            <i class="fab fa-react"></i>
                        </div>
                        <div class="skill-info">
                            <div class="skill-name">React</div>
                            <div class="skill-level">
                                <div class="skill-progress" style="width: 90%;"></div>
                            </div>
                        </div>
                    </div>
                    <div class="skill-item">
                        <div class="skill-icon">
                            <i class="fab fa-js"></i>
                        </div>
                        <div class="skill-info">
                            <div class="skill-name">JavaScript</div>
                            <div class="skill-level">
                                <div class="skill-progress" style="width: 85%;"></div>
                            </div>
                        </div>
                    </div>
                    <div class="skill-item">
                        <div class="skill-icon">
                            <i class="fab fa-node-js"></i>
                        </div>
                        <div class="skill-info">
                            <div class="skill-name">Node.js</div>
                            <div class="skill-level">
                                <div class="skill-progress" style="width: 75%;"></div>
                            </div>
                        </div>
                    </div>
                    <div class="skill-item">
                        <div class="skill-icon">
                            <i class="fas fa-database"></i>
                        </div>
                        <div class="skill-info">
                            <div class="skill-name">MongoDB</div>
                            <div class="skill-level">
                                <div class="skill-progress" style="width: 80%;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Projects -->
            <section id="projects" class="content-section">
                <div class="section-header">
                    <h2 class="section-title">Projects</h2>
                    <button class="edit-button">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
                <div class="projects-grid">
                    <div class="project-card">
                        <img src="https://i.pinimg.com/control2/736x/a8/96/e7/a896e73429c7028d4dd5d0a5c53782ee.jpg" alt="Project 1" class="project-image">
                        <div class="project-content">
                            <h3 class="project-title">E-commerce Platform</h3>
                            <p class="project-description">
                                A full-stack e-commerce platform with real-time inventory management.
                            </p>
                            <div class="project-tags">
                                <span class="project-tag">React</span>
                                <span class="project-tag">Node.js</span>
                                <span class="project-tag">MongoDB</span>
                            </div>
                        </div>
                    </div>
                    <div class="project-card">
                        <img src="https://i.pinimg.com/736x/01/c1/8a/01c18a501b3b8388162593f6a5fe9399.jpg" alt="Project 2" class="project-image">
                        <div class="project-content">
                            <h3 class="project-title">Task Management App</h3>
                            <p class="project-description">
                                A collaborative task management application with real-time updates.
                            </p>
                            <div class="project-tags">
                                <span class="project-tag">Vue.js</span>
                                <span class="project-tag">Firebase</span>
                                <span class="project-tag">Tailwind</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Certifications -->
            <section id="certifications" class="content-section">
                <div class="section-header">
                    <h2 class="section-title">Certifications</h2>
                    <button class="edit-button">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
                <div class="certifications-list">
                    <div class="certification-item">
                        <div class="certification-icon">
                            <i class="fas fa-certificate"></i>
                        </div>
                        <div class="certification-info">
                            <h3 class="certification-name">React Developer Certification</h3>
                            <p class="certification-issuer">Meta</p>
                        </div>
                        <a href="#" class="view-credential">
                            View Credential
                            <i class="fas fa-external-link-alt"></i>
                        </a>
                    </div>
                    <div class="certification-item">
                        <div class="certification-icon">
                            <i class="fas fa-certificate"></i>
                        </div>
                        <div class="certification-info">
                            <h3 class="certification-name">AWS Cloud Practitioner</h3>
                            <p class="certification-issuer">Amazon Web Services</p>
                        </div>
                        <a href="#" class="view-credential">
                            View Credential
                            <i class="fas fa-external-link-alt"></i>
                        </a>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        // Handle navigation highlighting
        const navItems = document.querySelectorAll('.nav-item');
        const sections = document.querySelectorAll('.content-section');

        function setActiveNavItem() {
            const scrollPosition = window.scrollY;

            sections.forEach((section, index) => {
                const sectionTop = section.offsetTop - 100;
                const sectionBottom = sectionTop + section.offsetHeight;

                if (scrollPosition >= sectionTop && scrollPosition < sectionBottom) {
                    navItems.forEach(item => item.classList.remove('active'));
                    navItems[index].classList.add('active');
                }
            });
        }

        window.addEventListener('scroll', setActiveNavItem);

        // Smooth scroll to sections
        navItems.forEach(item => {
            item.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = item.getAttribute('href');
                const targetSection = document.querySelector(targetId);
                
                window.scrollTo({
                    top: targetSection.offsetTop - 20,
                    behavior: 'smooth'
                });
            });
        });

        // Edit button functionality
        const editButtons = document.querySelectorAll('.edit-button');
        
        editButtons.forEach(button => {
            button.addEventListener('click', () => {
                const section = button.closest('.content-section');
                const sectionTitle = section.querySelector('.section-title').textContent;
                alert(`Edit ${sectionTitle} - This functionality would open an edit modal in a real application.`);
            });
        });

        // Initialize tooltips for skill levels
        const skillItems = document.querySelectorAll('.skill-item');
        
        skillItems.forEach(item => {
            const progress = item.querySelector('.skill-progress').style.width;
            const skillName = item.querySelector('.skill-name').textContent;
            item.title = `${skillName}: ${progress}`;
        });
    </script>
</body>
</html>